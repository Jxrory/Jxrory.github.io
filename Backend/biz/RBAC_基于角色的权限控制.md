# RBAC模型：基于角色的权限控制

## 什么是RBAC模型

RBAC（Role-Based Access Control）即：基于角色的权限控制。通过角色关联用户，角色关联权限的方式间接赋予用户权限。

![RBAC model](./_images/RBAC-model.png)

## RBAC 分类

RBAC模型可以分为：RBAC0、RBAC1、RBAC2、RBAC3 四种。其中RBAC0是基础，也是最简单的，相当于底层逻辑，RBAC1、RBAC2、RBAC3都是以RBAC0为基础的升级。

### RBAC0

最简单的用户、角色、权限模型。这里面又包含了2种：

> **用户和角色是多对一关系**，即：一个用户只充当一种角色，一种角色可以有多个用户担当。
> **用户和角色是多对多关系**，即：一个用户可同时充当多种角色，一种角色可以有多个用户担当。

### RBAC1

相对于RBAC0模型，增加了子角色，引入了继承概念，即子角色可以继承父角色的所有权限。

### RBAC2模型

基于RBAC0模型，增加了对角色的一些限制：角色互斥、基数约束、先决条件角色等。

> 角色互斥：同一用户不能分配到一组互斥角色集合中的多个角色，互斥角色是指权限互相制约的两个角色。案例：财务系统中一个用户不能同时被指派给会计角色和审计员角色。
>
> 基数约束：一个角色被分配的用户数量受限，它指的是有多少用户能拥有这个角色。例如：一个角色专门为公司CEO创建的，那这个角色的数量是有限的。
>
> 先决条件角色：指要想获得较高的权限，要首先拥有低一级的权限。例如：先有副总经理权限，才能有总经理权限。
>
> 运行时互斥：例如，允许一个用户具有两个角色的成员资格，但在运行中不可同时激活这两个角色。

### RBAC3模型

称为统一模型，它包含了RBAC1和RBAC2，利用传递性，也把RBAC0包括在内，综合了RBAC0、RBAC1和RBAC2的所有特点，这里就不在多描述了。

## 什么是权限

可以将权限分为：页面权限、操作权限和数据权限

**页面权限**：所有系统都是由一个个的页面组成，页面再组成模块，用户是否能看到这个页面的菜单、是否能进入这个页面就称为页面权限。

**操作权限**：用户凡是在操作系统中的任何动作、交互都是操作权限，如增删改查等。

**数据权限**：一般业务管理系统，都有数据私密性的要求：哪些人可以看到哪些数据，不可以看到哪些数据。

## 参考

[RBAC模型：基于用户-角色-权限控制的一些思考](http://www.woshipm.com/pd/1150093.html)
